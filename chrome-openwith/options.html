<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Open With External Program - 选项</title>
  <style>
    body {
      font-family: 'Microsoft Yahei', Arial, sans-serif;
      margin: 20px;
      color: #333;
      max-width: 800px;
    }
    h1 {
      color: #333;
      border-bottom: 1px solid #eee;
      padding-bottom: 10px;
    }
    .section {
      margin-bottom: 20px;
      padding: 15px;
      background-color: #f9f9f9;
      border-radius: 5px;
    }
    .section h2 {
      margin-top: 0;
      color: #4285f4;
    }
    label {
      display: block;
      margin-bottom: 5px;
      font-weight: bold;
    }
    input[type="text"], textarea {
      width: 100%;
      padding: 8px;
      margin-bottom: 10px;
      border: 1px solid #ddd;
      border-radius: 3px;
      box-sizing: border-box;
    }
    input[type="checkbox"] {
      margin-right: 5px;
    }
    .shortcut-key {
      margin-bottom: 10px;
    }
    .shortcut-key label {
      display: inline-block;
      margin-right: 15px;
      font-weight: normal;
    }
    .url-filter {
      margin-bottom: 10px;
    }
    .url-filter input {
      width: calc(100% - 70px);
      margin-right: 10px;
    }
    .url-filter button {
      width: 60px;
    }
    .filter-list {
      margin-top: 10px;
      max-height: 150px;
      overflow-y: auto;
      border: 1px solid #ddd;
      border-radius: 3px;
      padding: 5px;
      background-color: #fff;
    }
    .filter-item {
      padding: 5px;
      border-bottom: 1px solid #eee;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    .filter-item:last-child {
      border-bottom: none;
    }
    .filter-text {
      flex-grow: 1;
      word-break: break-all;
    }
    .remove-filter {
      background-color: #f44336;
      color: white;
      border: none;
      border-radius: 3px;
      padding: 2px 5px;
      cursor: pointer;
      margin-left: 10px;
    }
    .button {
      background-color: #4285f4;
      color: white;
      border: none;
      padding: 10px 20px;
      text-align: center;
      text-decoration: none;
      display: inline-block;
      font-size: 16px;
      margin: 4px 2px;
      cursor: pointer;
      border-radius: 4px;
    }
    .button:hover {
      background-color: #3367d6;
    }
    .status {
      margin-top: 10px;
      padding: 10px;
      border-radius: 3px;
      display: none;
    }
    .success {
      background-color: #d4edda;
      color: #155724;
      border: 1px solid #c3e6cb;
    }
    .error {
      background-color: #f8d7da;
      color: #721c24;
      border: 1px solid #f5c6cb;
    }
    .help-text {
      font-size: 12px;
      color: #666;
      margin-top: 5px;
    }
  </style>
</head>
<body>
  <h1>Open With External Program - 选项</h1>
  
  <div class="section">
    <h2>外部命令配置</h2>
    <label for="command">命令（使用 {url} 作为链接地址的占位符）：</label>
    <input type="text" id="command" placeholder="例如：start msedge {url}">
    <div class="help-text">
      <p>示例：</p>
      <ul>
        <li>Windows: <code>start msedge {url}</code> 或 <code>start firefox.exe {url}</code></li>
        <li>macOS: <code>open -a "Google Chrome" {url}</code> 或 <code>open -a Safari {url}</code></li>
        <li>Linux: <code>xdg-open {url}</code> 或 <code>firefox {url}</code></li>
      </ul>
    </div>
  </div>
  
  <div class="section">
    <h2>打开方式</h2>
    <label>
      <input type="checkbox" id="default-open">
      默认点击链接时使用外部程序打开（不勾选则需要使用右键菜单或快捷键）
    </label>
  </div>
  
  <div class="section">
    <h2>快捷键配置</h2>
    <div class="help-text">当按住以下按键组合点击链接时，将使用外部程序打开：</div>
    <div class="shortcut-key">
      <label><input type="checkbox" id="ctrl-key"> Ctrl</label>
      <label><input type="checkbox" id="shift-key"> Shift</label>
      <label><input type="checkbox" id="alt-key"> Alt</label>
    </div>
  </div>
  
  <div class="section">
    <h2>URL过滤规则</h2>
    <div class="help-text">只有匹配以下规则的URL才会被处理（使用正则表达式）。如果不添加任何规则，则处理所有URL。</div>
    <div class="url-filter">
      <input type="text" id="url-filter" placeholder="例如：^https?://www\.example\.com/.*">
      <button id="add-filter" class="button">添加</button>
    </div>
    <div class="filter-list" id="filter-list">
      <!-- 过滤规则列表将在这里动态生成 -->
    </div>
  </div>
  
  <button id="save" class="button">保存设置</button>
  <div id="status" class="status"></div>
  
  <script src="js/options.js"></script>
</body>
</html>
